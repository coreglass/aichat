# ğŸ”§ ç™½å±é—®é¢˜ä¿®å¤æŒ‡å—

## é—®é¢˜åŸå› 

ç™½å±é—®é¢˜çš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç±»ï¼š

### 1. è¿›ç¨‹é”å®š
æ—§ç‰ˆæœ¬çš„ `ai-talk.exe` è¿˜åœ¨è¿è¡Œï¼Œå¯¼è‡´æ— æ³•è¦†ç›–ã€‚

**è§£å†³æ–¹æ³•ï¼š**
```bash
# æ–¹æ³• 1: æ‰‹åŠ¨å…³é—­çª—å£
åŒå‡»è¿è¡Œçš„åº”ç”¨çª—å£å³è§’ X æŒ‰é’®å…³é—­

# æ–¹æ³• 2: ä»»åŠ¡ç®¡ç†å™¨
æŒ‰ Ctrl+Shift+Esc æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨
æ‰¾åˆ° "Ai Talk" è¿›ç¨‹
å³é”® â†’ ç»“æŸä»»åŠ¡

# æ–¹æ³• 3: å‘½ä»¤è¡Œï¼ˆæ¨èï¼‰
æ‰“å¼€ PowerShell æˆ– CMD
è¿è¡Œï¼š
```
taskkill /F /IM ai-talk.exe
```

### 2. èµ„æºè·¯å¾„é—®é¢˜
Tauri 2.x éœ€è¦ï¼š
- CSS å’Œ HTML è·¯å¾„ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆ`css/style.css` è€Œä¸æ˜¯ `/css/style.css`ï¼‰
- Tauri API æ­£ç¡®æ³¨å…¥ï¼ˆæ„å»ºæ—¶è‡ªåŠ¨å®Œæˆï¼‰

## ä¿®å¤æ­¥éª¤

### æ­¥éª¤ 1: åœæ­¢æ—§è¿›ç¨‹

```powershell
# PowerShell
taskkill /F /IM ai-talk.exe

# æˆ– CMD
taskkill /F /IM ai-talk.exe
```

### æ­¥éª¤ 2: æ¸…ç†æ—§æ–‡ä»¶

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd tauri-app/src-tauri/target/release

# åˆ é™¤æ—§çš„ exe æ–‡ä»¶
del ai-talk.exe

# æˆ–è€…æ¸…ç†æ•´ä¸ª release ç›®å½•
cd ..
rm -rf release
mkdir release
```

### æ­¥éª¤ 3: é‡æ–°æ„å»º

```bash
cd tauri-app
npm run tauri:build
```

### æ­¥éª¤ 4: æµ‹è¯•è¿è¡Œ

```bash
# è¿›å…¥æ„å»ºç›®å½•
cd src-tauri/target/release

# è¿è¡Œ exe
./ai-talk.exe
```

## å¿«é€Ÿä¿®å¤å‘½ä»¤

å¤åˆ¶ä»¥ä¸‹å‘½ä»¤åˆ° PowerShell æˆ– CMDï¼Œä¸€æ¬¡æ€§æ‰§è¡Œæ‰€æœ‰æ­¥éª¤ï¼š

```powershell
# PowerShell ç‰ˆæœ¬
cd C:\Users\94361\Downloads\Ai-Talk-main\Ai-Talk-main\tauri-app
taskkill /F /IM ai-talk.exe -ErrorAction SilentlyContinue
npm run tauri:build
cd src-tauri\target\release
.\ai-talk.exe
```

## å·²ä¿®å¤çš„é—®é¢˜

âœ… ç§»é™¤äº†é‡å¤çš„çª—å£åˆ›å»ºï¼ˆ`main.rs` ä¸å†æ‰‹åŠ¨åˆ›å»ºä¸»çª—å£ï¼‰
âœ… ä¿®å¤äº†æ‰€æœ‰ HTML æ–‡ä»¶çš„èµ„æºè·¯å¾„ï¼ˆ`css/style.css` è€Œä¸æ˜¯ `../css/style.css`ï¼‰
âœ… æ·»åŠ äº†ç›¸å¯¹è·¯å¾„é…ç½®ï¼ˆ`base: './'`ï¼‰ç¡®ä¿æ­£ç¡®åŠ è½½èµ„æº
âœ… æ›´æ–°äº† Tauri API è°ƒç”¨ï¼ˆ`window.__TAURI__`ï¼‰
âœ… ç¦ç”¨äº† CSS æ–‡ä»¶å hashï¼ˆé¿å…è·¯å¾„ä¸åŒ¹é…ï¼‰

## æ–‡ä»¶ä½ç½®

```
tauri-app/
â”œâ”€â”€ src-tauri/
â”‚   â””â”€â”€ target/
â”‚       â””â”€â”€ release/
â”‚           â””â”€â”€ ai-talk.exe  â† ç¼–è¯‘å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶
â””â”€â”€ dist/          â† å‰ç«¯èµ„æº
```

## æµ‹è¯•æ¸…å•

- [ ] èƒ½å¤Ÿæ­£å¸¸å¯åŠ¨ï¼ˆä¸ç™½å±ï¼‰
- [ ] ä¾§è¾¹æ å›¾æ ‡æ­£ç¡®æ˜¾ç¤º
- [ ] ç‚¹å‡» AI æ¨¡å‹æŒ‰é’®å¯ä»¥åŠ è½½ç½‘é¡µ
- [ ] CSS æ ·å¼æ­£ç¡®åº”ç”¨
- [ ] ä¼šè¯åˆ†èº«åŠŸèƒ½æ­£å¸¸
- [ ] ä»£ç†è®¾ç½®çª—å£å¯ä»¥æ‰“å¼€
- [ ] å…³äºé¡µé¢å¯ä»¥æ‰“å¼€

## æ•…éšœæ’é™¤

### å¦‚æœä»ç„¶ç™½å±

1. **æ£€æŸ¥å¼€å‘è€…å·¥å…·**
   - æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
   - æŸ¥çœ‹ Console æ ‡ç­¾é¡µçš„é”™è¯¯ä¿¡æ¯
   - æŸ¥çœ‹ Network æ ‡ç­¾é¡µçœ‹èµ„æºæ˜¯å¦ 404

2. **æ£€æŸ¥ dist ç›®å½•**
   ```bash
   ls -la tauri-app/dist/
   ```
   ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨ï¼š
   - `dist/index.html`
   - `dist/css/style.css`
   - `dist/css/second.css`
   - `dist/css/proxy.css`
   - `dist/css/version.css`
   - `dist/js/renderer-tauri.js`
   - `dist/assets/` ï¼ˆæ‰€æœ‰å›¾æ ‡å’Œå›¾ç‰‡ï¼‰

3. **æ£€æŸ¥ Tauri API**
   - åœ¨æµè§ˆå™¨ä¸­æŒ‰ F12
   - åœ¨ Console ä¸­è¾“å…¥ï¼š
   ```javascript
   console.log(window.__TAURI__)
   ```
   - åº”è¯¥è¾“å‡º `Object` è€Œä¸æ˜¯ `undefined`

4. **æ‰‹åŠ¨æ‰“å¼€ HTML æ–‡ä»¶**
   ```bash
   # ç”¨æµè§ˆå™¨æ‰“å¼€ index.html æ£€æŸ¥æ˜¯å¦èƒ½æ­£å¸¸æ˜¾ç¤º
   start tauri-app/dist/index.html
   ```

### å¦‚æœ Tauri API ä¸å¯ç”¨

å¯èƒ½éœ€è¦æ·»åŠ æ˜¾å¼çš„ preload è„šæœ¬ã€‚æ£€æŸ¥ `src-tauri/src-tauri.conf.json` æˆ–åˆ›å»º preload æ–‡ä»¶ã€‚

### å¦‚æœèµ„æºåŠ è½½å¤±è´¥ï¼ˆ404ï¼‰

æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼š
- CSS æ–‡ä»¶ï¼š`css/style.css`
- èµ„æºæ–‡ä»¶ï¼š`assets/logo.png`ï¼ˆä¸æ˜¯ `../assets/logo.png`ï¼‰
- JS æ–‡ä»¶ï¼š`js/renderer-tauri.js`

## å¼€å‘æ¨¡å¼æµ‹è¯•

å¦‚æœå‘å¸ƒç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå¯ä»¥å…ˆç”¨å¼€å‘æ¨¡å¼æµ‹è¯•ï¼š

```bash
cd tauri-app
npm run tauri:dev
```

å¼€å‘æ¨¡å¼ä¼šï¼š
- ä½¿ç”¨ Vite å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£ 5173ï¼‰
- å®æ—¶çƒ­æ›´æ–°
- å®Œæ•´çš„é”™è¯¯ä¿¡æ¯è¾“å‡º
- F12 å¼€å‘è€…å·¥å…·å®Œå…¨å¯ç”¨

## æˆåŠŸæ ‡å¿—

å½“ä»¥ä¸‹æ¡ä»¶éƒ½æ»¡è¶³æ—¶ï¼Œè¯´æ˜é—®é¢˜å·²è§£å†³ï¼š
- âœ… çª—å£å¯åŠ¨ä¸”ä¸æ˜¯ç™½å±
- âœ… ç•Œé¢æ­£å¸¸æ˜¾ç¤ºï¼ˆä¾§è¾¹æ  + å†…å®¹åŒºï¼‰
- âœ… æ‰€æœ‰å›¾æ ‡å’Œæ–‡å­—æ­£å¸¸æ˜¾ç¤º
- âœ… ç‚¹å‡»æŒ‰é’®æœ‰å“åº”
- âœ… F12 æ§åˆ¶å°æ²¡æœ‰ JavaScript é”™è¯¯

## ä¸‹ä¸€æ­¥

ä¿®å¤åï¼Œå¯ä»¥ï¼š
1. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½ï¼ˆAI æ¨¡å‹åŠ è½½ã€ä»£ç†è®¾ç½®ã€ä¼šè¯åˆ†èº«ï¼‰
2. åˆ›å»ºå®‰è£…åŒ…ï¼ˆ`npm run tauri:build` å·²ç”Ÿæˆ NSIS å’Œ MSI å®‰è£…åŒ…ï¼‰
3. åˆ†å‘ç»™å…¶ä»–äººæµ‹è¯•
4. æ ¹æ®æµ‹è¯•ç»“æœç»§ç»­ä¼˜åŒ–

## æ³¨æ„äº‹é¡¹

- **ä¸è¦åœ¨ç¼–è¾‘å™¨ä¸­ç›´æ¥æ‰“å¼€ `ai-talk.exe`**ï¼Œè¿™ä¼šé”å®šæ–‡ä»¶
- **å¼€å‘æ—¶ä½¿ç”¨ `npm run tauri:dev`**ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½æ„å»º
- **æ„å»ºåå…ˆåˆ é™¤æ—§æ–‡ä»¶å†é‡æ–°æ„å»º**ï¼Œé¿å…ç¼“å­˜é—®é¢˜
- **ä½¿ç”¨ F12 å¼€å‘è€…å·¥å…·**æŸ¥çœ‹è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

## æŠ€æœ¯ç»†èŠ‚

### å·²ä¿®å¤çš„å…·ä½“é—®é¢˜

1. **é‡å¤çª—å£åˆ›å»º**
   - åŸå› ï¼š`main.rs` å’Œ `tauri.conf.json` éƒ½åˆ›å»ºäº†åä¸º "main" çš„çª—å£
   - ä¿®å¤ï¼šç§»é™¤ `main.rs` ä¸­çš„ `WebviewWindowBuilder` ä»£ç 

2. **é”™è¯¯çš„èµ„æºè·¯å¾„**
   - åŸå› ï¼šVite ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆ`/assets/...`ï¼‰å’Œç›¸å¯¹è·¯å¾„æ··åˆï¼ˆ`../css/...`ï¼‰
   - ä¿®å¤ï¼š
     - æ·»åŠ  `base: './'` ç¦ç”¨åŸºç¡€è·¯å¾„
     - æ‰€æœ‰ HTML æ–‡ä»¶ä½¿ç”¨æ­£ç¡®çš„ç›¸å¯¹è·¯å¾„
     - ç¦ç”¨ CSS æ–‡ä»¶å hashing

3. **Tauri API è°ƒç”¨é—®é¢˜**
   - åŸå› ï¼šä½¿ç”¨äº† `window.electron` API è€Œä¸æ˜¯ `window.__TAURI__`
   - ä¿®å¤ï¼šæ‰€æœ‰ HTML æ–‡ä»¶ä¸­çš„ JavaScript æ”¹ä¸º Tauri API

4. **å¼€å‘æœåŠ¡å™¨é…ç½®**
   - åŸå› ï¼šVite é…ç½®å¯èƒ½å¯¼è‡´èµ„æºåŠ è½½é—®é¢˜
   - ä¿®å¤ï¼šç®€åŒ– Vite é…ç½®ï¼Œä½¿ç”¨é»˜è®¤è®¾ç½®

éœ€è¦å¸®åŠ©ï¼ŸæŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯å¹¶å‚è€ƒ Tauri å®˜æ–¹æ–‡æ¡£ï¼š
https://tauri.app/v1/guides/getting-started/introduction
